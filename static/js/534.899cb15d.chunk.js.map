{"version":3,"file":"static/js/534.899cb15d.chunk.js","mappings":"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","sources":["dice/GrimwildFooter.tsx","dice/HeaderFooter.tsx","dice/analysis/DiminishingPoolsAnalysis.tsx"],"sourcesContent":["import { Box, Container, Link, Typography } from \"@mui/material\";\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\";\n\nexport default function GrimwildFooter() {\n    return (\n        <>\n            <Box sx={{ minHeight: \"30px\" }}></Box>\n            <Box\n                component=\"footer\"\n                sx={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    minHeight: \"100px\",\n                    backgroundColor: (theme) => theme.palette.grey[800],\n                }}\n            >\n                <Container maxWidth=\"md\">\n                    <Typography variant=\"body2\" align=\"center\">\n                        <br />\n                        This page contains content from <b>Grimwild</b> by J.D. Maxwell, licensed\n                        under{\" \"}\n                        <Link\n                            href=\"https://creativecommons.org/licenses/by/4.0/legalcode.en\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            CC-BY&nbsp;\n                            <OpenInNewIcon fontSize=\"inherit\" />\n                        </Link>\n                        .\n                        <br />\n                        Check out{\" \"}\n                        <Link\n                            href=\"https://www.backerkit.com/c/projects/OddityPress/grimwild\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            Grimwild&nbsp;on&nbsp;BackerKit&nbsp;\n                            <OpenInNewIcon fontSize=\"inherit\" />\n                        </Link>{\" \"}\n                        for more information!\n                    </Typography>\n                </Container>\n            </Box>\n        </>\n    );\n}\n","import GrimwildFooter from \"./GrimwildFooter\";\nimport { Box, Dialog, DialogContent, Divider, IconButton, Toolbar, Tooltip } from \"@mui/material\";\nimport { PropsWithChildren, ReactElement, useState } from \"react\";\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport { colors } from \"../theme\";\n\nexport default function HeaderFooter({\n    title,\n    children,\n    back,\n    info,\n    infoDialog,\n}: PropsWithChildren<{ title: string; back?: string; info?: string; infoDialog?: ReactElement }>) {\n    document.title = title;\n    return (\n        <>\n            <Toolbar sx={{ backgroundColor: colors.gray }}>\n                {back ? (\n                    <IconButton size=\"large\" edge=\"start\" href={back}>\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                ) : null}\n                <h1 style={{ marginLeft: 20 }}>{title}</h1>\n                <Box flexGrow={1}></Box>\n                {info ? (\n                    <Tooltip enterDelay={100} title={info}>\n                        <IconButton size=\"large\" edge=\"end\">\n                            <InfoIcon />\n                        </IconButton>\n                    </Tooltip>\n                ) : null}\n                {infoDialog ? <InfoDialog>{infoDialog}</InfoDialog> : null}\n            </Toolbar>\n            <Divider sx={{ marginBottom: 8 }} />\n            {children}\n            <GrimwildFooter />\n        </>\n    );\n}\n\nfunction InfoDialog({ children }: PropsWithChildren<{}>) {\n    const [open, setOpen] = useState(false);\n    const toggleOpen = () => setOpen((o) => !o);\n    return (\n        <>\n            <Dialog\n                open={open}\n                onClose={(e) => {\n                    toggleOpen();\n                }}\n            >\n                <DialogContent>{children}</DialogContent>\n            </Dialog>\n            <IconButton size=\"large\" edge=\"end\" onClick={toggleOpen}>\n                <InfoIcon />\n            </IconButton>\n        </>\n    );\n}\n","import { Grid, Table, TableBody, TableCell, TableRow, TableHead } from \"@mui/material\";\nimport {\n    BarChart,\n    XAxis,\n    YAxis,\n    Tooltip,\n    Legend,\n    Bar,\n    Rectangle,\n    ResponsiveContainer,\n    Label,\n} from \"recharts\";\nimport data from \"../../static/stats/pool_length.json\";\nimport HeaderFooter from \"../HeaderFooter\";\nimport { useEffect, useState } from \"react\";\nimport { colors } from \"../../theme\";\n\nexport type BarDatum = { name: string; proportion: number };\n\nexport function proportionFormat(value: number) {\n    const proportion = value > 1e-3 ? value.toFixed(3) : value === 0 ? 0 : value.toExponential(3);\n    const percent = value * 100;\n    const percentDisplay = percent < 1 ? percent.toPrecision(2) : percent.toPrecision(3);\n    return `${proportion} (${percentDisplay}%)`;\n}\n\nconst info = (\n    <>\n        The data on this page was generated by simulating 10^8 trials of rolling a pool of dice\n        until it was depleted. Fun fact - the number of rolls until a diminishing pool of n dice is\n        depleted can be expressed as the maximum of n i.i.d. geometric random variables with p=0.5.\n        However, the expected value of that distribution is not straightforward to calculate at all\n        for n&gt;1.{\" \"}\n        <a href=\"https://www.sciencedirect.com/science/article/abs/pii/S0167715207002040\">\n            Here's a paper about it!\n        </a>\n    </>\n);\nexport default function DiminishingPoolAnalysis() {\n    const [selectedNumDice, setSelectedNumDice] = useState(6);\n    const [selectedResults, setSelectedResults] = useState<BarDatum[]>([]);\n    useEffect(() => {\n        const row = data.find((row) => row.size === selectedNumDice);\n        console.debug(\"row\", row, selectedNumDice);\n        if (row != undefined) {\n            setSelectedResults(\n                Object.entries(row.rolls).map(([timesRolled, proportion]) => ({\n                    name: timesRolled,\n                    proportion,\n                }))\n            );\n        }\n    }, [selectedNumDice]);\n\n    return (\n        <HeaderFooter title=\"Diminishing Pools\" back=\"/dice\" infoDialog={info}>\n            <Grid container>\n                <Grid item xs={12} sm={2}>\n                    <Table>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell>Dice</TableCell>\n                                <TableCell align=\"right\">Average rolls until depleted</TableCell>\n                            </TableRow>\n                            {data.map((row, i) => (\n                                <TableRow\n                                    key={i}\n                                    hover={true}\n                                    selected={row.size === selectedNumDice}\n                                    onClick={() => {\n                                        setSelectedNumDice(row.size);\n                                    }}\n                                >\n                                    <TableCell>{row.size}</TableCell>\n                                    <TableCell align=\"right\">{row.mean.toFixed(3)}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Grid>\n                <Grid item xs={12} sm={10} sx={{ minHeight: { xs: \"90vh\", sm: 100 } }}>\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart\n                            width={4}\n                            height={4}\n                            data={selectedResults}\n                            margin={{\n                                top: 5,\n                                right: 30,\n                                left: 20,\n                                bottom: 5,\n                            }}\n                        >\n                            <XAxis dataKey=\"name\" dy={0}>\n                                {/* <Label >Number of rolls until pool is depleted</Label> */}\n                            </XAxis>\n                            <YAxis />\n                            <Tooltip\n                                cursor={{ fill: colors.gray }}\n                                contentStyle={{ backgroundColor: colors.darkGray }}\n                                labelFormatter={(value) => {\n                                    return `${value} roll${value == 1 ? \"\" : \"s\"} until depletion`;\n                                }}\n                                formatter={proportionFormat}\n                            />\n                            {/* <Legend /> */}\n\n                            <Bar\n                                dataKey=\"proportion\"\n                                fill={colors.blue}\n                                activeBar={<Rectangle fill={colors.green} stroke={colors.black} />}\n                            />\n                            {/* <ReferenceLine x={3.2} strokeWidth={3} stroke=\"red\" /> */}\n                        </BarChart>\n                    </ResponsiveContainer>\n                </Grid>\n            </Grid>\n        </HeaderFooter>\n    );\n}\n"],"names":["GrimwildFooter","_jsxs","_Fragment","children","_jsx","Box","sx","minHeight","component","display","flexDirection","backgroundColor","theme","palette","grey","Container","maxWidth","Typography","variant","align","Link","href","target","rel","OpenInNewIcon","fontSize","HeaderFooter","_ref","title","back","info","infoDialog","document","Toolbar","colors","gray","IconButton","size","edge","ArrowBackIosIcon","style","marginLeft","flexGrow","Tooltip","enterDelay","InfoIcon","InfoDialog","Divider","marginBottom","_ref2","open","setOpen","useState","toggleOpen","o","Dialog","onClose","e","DialogContent","onClick","proportionFormat","value","proportion","toFixed","toExponential","percent","percentDisplay","toPrecision","concat","DiminishingPoolAnalysis","selectedNumDice","setSelectedNumDice","selectedResults","setSelectedResults","useEffect","row","data","find","console","debug","undefined","Object","entries","rolls","map","timesRolled","name","Grid","container","item","xs","sm","Table","TableBody","TableRow","TableCell","i","hover","selected","mean","ResponsiveContainer","width","height","BarChart","margin","top","right","left","bottom","XAxis","dataKey","dy","YAxis","cursor","fill","contentStyle","darkGray","labelFormatter","formatter","Bar","blue","activeBar","Rectangle","green","stroke","black"],"sourceRoot":""}